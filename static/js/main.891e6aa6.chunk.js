(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{18:function(e,t,n){e.exports={overlay:"Modal_overlay__KyxUo",modal:"Modal_modal__345RQ",isHidden:"Modal_isHidden__1TkRf"}},23:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(1),r=n(22),c=n.n(r),i=(n(31),n(12)),l=n(4),s=n(5),d=n(7),h=n(6),u=n(25),j=function(e){var t=e.title,n=e.progress;return Object(a.jsxs)("li",{children:[Object(a.jsx)("h3",{children:t}),Object(a.jsxs)("div",{children:[n,"%"]})]})};j.defaultProps={};var b=j,p=n(18),m=n.n(p),O=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).closeModal=function(t){"Escape"===t.code&&e.props.modalToggle()},e.componentDidMount=function(){window.addEventListener("keydown",e.closeModal)},e.componentWillUnmount=function(){window.removeEventListener("keydown",e.closeModal)},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:m.a.overlay,id:"overlay",children:Object(a.jsx)("div",{className:m.a.modal,children:this.props.children})})}}]),n}(o.Component),g=n(15),f=n(23),x=n.n(f),v=n(39),y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:"",comment:"",repeat:"",color:"#390093",remind:!0},e.closeId=null,e.handeSubmit=function(t){t.preventDefault();var n=e.state,a=n.title,o=n.comment,r=n.color,c=n.repeat,i=n.remind,l={id:Object(v.a)(),comment:o,title:a,color:r,repeat:c,remind:i,startDate:Date.now(),progress:e.toSetProgress(Date.now())};e.props.toAddHabit(l),e.setState({title:"",comment:"",repeat:"",color:"#390093",remind:!0}),alert("Your new habit ".concat(a," added")),e.closeId=setTimeout(e.props.modalToggle,1e3)},e.handleChange=function(t){var n=t.target;e.setState(Object(g.a)({},n.name,"checkbox"===n.type?n.checked:n.value))},e.toSetProgress=function(e){var t=Date.now();return Math.round(100*(t-e)/18144e5)},e}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.closeId)}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.comment,o=e.repeat,r=e.color,c=e.remind;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{action:"",onSubmit:this.handeSubmit,children:[Object(a.jsxs)("div",{className:x.a.headerWrapper,style:{backgroundColor:this.state.color},children:[Object(a.jsx)("button",{type:"button",onClick:this.props.modalToggle,children:"X"}),Object(a.jsx)("h2",{children:"\u041d\u043e\u0432\u0430\u044f \u043f\u0440\u0438\u0432\u044b\u0447\u043a\u0430"}),Object(a.jsx)("label",{htmlFor:"title",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(a.jsx)("input",{name:"title",type:"text",value:t,placeholder:"\u0417\u0430\u0440\u044f\u0434\u043a\u0430",onChange:this.handleChange})]}),Object(a.jsx)("label",{htmlFor:"comment",children:"\u041c\u043e\u0442\u0438\u0432\u0438\u0440\u0443\u0439 \u0441\u0435\u0431\u044f"}),Object(a.jsx)("input",{name:"comment",type:"textarea",placeholder:"...",value:n,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"repeat"}),Object(a.jsxs)("select",{name:"repeat",value:o,onChange:this.handleChange,children:[Object(a.jsx)("option",{value:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c",children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u1433"}),Object(a.jsx)("option",{value:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441",children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441 \u1433"})]}),Object(a.jsx)("label",{htmlFor:"color"}),Object(a.jsx)("input",{type:"color",name:"color",value:r,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"remind"}),Object(a.jsx)("input",{type:"checkbox",name:"remind",checked:c,onChange:this.handleChange}),Object(a.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})}}]),n}(o.Component),w=n(11),C=Object(o.createContext)(),k={email:"mango@gmail.com",name:"Mango",phone:"5544661234",avatar:"https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/131833819/original/a02cbadd2762acd521acff220b0cff951440b9ad/draw-your-roblox-minecraft-or-any-avatar-from-a-game.png",habits:[{id:1,title:"\u0417\u0430\u0440\u044f\u0434\u043a\u0430",comment:"\u043d\u0435 \u0431\u0443\u0434\u044c \u0441\u0432\u0438\u043d\u044c\u0435\u0439",repeat:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0447\u0430\u0441",color:"#390093",remind:!0,progress:"66%"}]},T=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleLogin=function(){e.setState({user:k,isLogIn:!0})},e.handleLogOut=function(){e.setState({user:null,isLogIn:!1})},e.state={user:k,isLogIn:!1,handleLogin:e.handleLogin,handleLogOut:e.handleLogOut},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(C.Provider,{value:this.state,children:this.props.children})})}}]),n}(o.Component);T.Consumer=C.Consumer;var M=T,S=function(e){return function(t){return Object(a.jsx)(M.Consumer,{children:function(n){return Object(a.jsx)(e,Object(i.a)(Object(i.a)({},t),n))}})}}(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={habits:[]},e.toAddHabit=function(t){e.setState((function(e){return{habits:[].concat(Object(u.a)(e.habits),[t])}}))},e.toChangeProgress=function(t){e.setState((function(n){var a=n.habits.find((function(e){return e.id===t}));return a.progress=e.toSetProgress(a.startDate),a}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("state"))||[];this.setState({habits:e})}},{key:"componentDidUpdate",value:function(e,t){t!==this.state&&localStorage.setItem("state",JSON.stringify(this.state.habits))}},{key:"render",value:function(){this.state.habits;var e=this.props.user;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("header",{children:[Object(a.jsx)(w.c,{to:"/",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(a.jsx)("img",{src:e.avatar,alt:e.name}),Object(a.jsx)("div",{children:"\u041c\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),this.props.showModal&&Object(a.jsx)(O,{modalToggle:this.props.modalToggle,children:Object(a.jsx)(y,{modalToggle:this.props.modalToggle,toAddHabit:this.toAddHabit})}),Object(a.jsx)("div",{children:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"}),Object(a.jsx)("h1",{children:"\u041c\u043e\u0438 \u043f\u0440\u0438\u0432\u044b\u0447\u043a\u0438"}),e.habits.length?Object(a.jsx)("ul",{children:e.habits.map((function(e){return Object(a.jsx)(w.b,{to:"/profile/habitList/".concat(e.id),children:Object(a.jsx)(b,{title:e.title,progress:e.progress})},e.id)}))}):Object(a.jsx)("p",{children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442\u0443 \u043f\u0440\u0438\u0432\u044b\u0447\u0435\u043a \u041d\u0430\u0436\u043c\u0438\u0442\u0435 +, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u0443\u044e"}),Object(a.jsx)("button",{type:"button",onClick:this.props.modalToggle,children:"+"})]})}}]),n}(o.Component)),L=n(2),_=[{exact:!0,path:"/",component:Object(o.lazy)((function(){return n.e(3).then(n.bind(null,46))}))},{exact:!1,path:"/login",component:Object(o.lazy)((function(){return n.e(4).then(n.bind(null,42))}))},{exact:!1,path:"/registr",component:Object(o.lazy)((function(){return n.e(6).then(n.bind(null,43))}))},{exact:!0,path:"/profile",component:Object(o.lazy)((function(){return n.e(5).then(n.bind(null,47))}))}],A=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={error:!1},e}return Object(s.a)(n,[{key:"componentDidCatch",value:function(e,t){this.state({error:!0})}},{key:"render",value:function(){return this.state.error?Object(a.jsx)("h2",{children:"Oops. something went wrong. Try again!"}):this.props.children}}]),n}(o.Component),D=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("header",{children:[Object(a.jsx)(w.c,{to:"/profile/habitlist",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(a.jsx)("h2",{children:"title"}),Object(a.jsx)("button",{type:"button",onClick:this.props.modalToggle,children:"\u041f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),this.props.showModal&&Object(a.jsx)(O,{modalToggle:this.props.modalToggle,children:Object(a.jsx)(y,{modalToggle:this.props.modalToggle,toAddHabit:this.toAddHabit})})]})}}]),n}(o.Component),I=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={showModal:!1,user:[{email:"",name:"",phone:""}]},e.modalToggle=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this,t=this.state.showModal;return Object(a.jsx)(M,{children:Object(a.jsx)(A,{children:Object(a.jsxs)(o.Suspense,{fallback:Object(a.jsx)("h1",{children:"Loading..."}),children:[_.map((function(e,t){return Object(a.jsx)(L.a,Object(i.a)({},e),t)})),Object(a.jsx)(L.a,{path:"/profile/habitList",exact:!0,render:function(n){return Object(a.jsx)(S,Object(i.a)(Object(i.a)({},n),{},{showModal:t,modalToggle:e.modalToggle}))}}),Object(a.jsx)(L.a,{path:"/profile/habitList/:id",exact:!0,render:function(n){return Object(a.jsx)(D,Object(i.a)(Object(i.a)({},n),{},{showModal:t,modalToggle:e.modalToggle}))}})]})})})}}]),n}(o.Component);c.a.render(Object(a.jsx)(w.a,{children:Object(a.jsx)(I,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.891e6aa6.chunk.js.map